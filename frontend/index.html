<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JHS Recruitment Dashboard</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- SweetAlert2 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Poppins Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Feather Icons -->
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <!-- SheetJS for Excel Export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <!-- PDF.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="flex">
    <!-- Sidebar -->
    <nav id="sidebar" class="sidebar fixed top-0 left-0 h-full w-64 flex flex-col shadow-2xl sidebar-hidden md:block">
        <div class="p-6 text-2xl font-bold text-center text-white bg-neutral-800 flex items-center justify-center space-x-2">
            <i data-feather="briefcase"></i>
            <span>JHS Recruit</span>
        </div>
        
        <div class="flex-1 mt-8 space-y-2">
            <a href="#" data-page="slots" class="nav-item flex items-center py-3 px-6 space-x-3">
                <i data-feather="clock"></i>
                <span>Slots</span>
            </a>
            <a href="#" data-page="upload" class="nav-item flex items-center py-3 px-6 space-x-3">
                <i data-feather="upload-cloud"></i>
                <span>Upload Resumes</span>
            </a>
            <a href="#" data-page="match" class="nav-item flex items-center py-3 px-6 space-x-3">
                <i data-feather="git-pull-request"></i>
                <span>Match Resumes</span>
            </a>
            <a href="#" data-page="candidates" class="nav-item flex items-center py-3 px-6 space-x-3">
                <i data-feather="users"></i>
                <span>Candidates</span>
            </a>
            <a href="#" data-page="messaged" class="nav-item flex items-center py-3 px-6 space-x-3">
                <i data-feather="send"></i>
                <span>Messaged</span>
            </a>
            <a href="#" data-page="interviews" class="nav-item flex items-center py-3 px-6 space-x-3">
                <i data-feather="calendar"></i>
                <span>Interviews</span>
            </a>
            <a href="#" data-page="selected" class="nav-item flex items-center py-3 px-6 space-x-3">
                <i data-feather="check-circle" class="w-5 h-5"></i>
                <span>Selected</span>
            </a>
            <a href="#" data-page="rejected" class="nav-item flex items-center py-3 px-6 space-x-3">
                <i data-feather="x-circle" class="w-5 h-5"></i>
                <span>Rejected</span>
            </a>
            <a href="#" data-page="logout" class="nav-item flex items-center py-3 px-6 space-x-3">
                <i data-feather="log-out"></i>
                <span>Logout</span>
            </a>
        </div>
        
        <div class="p-4">
            <button id="closeSidebarBtn" class="md:hidden text-gray-400 hover:text-white focus:outline-none flex items-center space-x-2">
                <i data-feather="chevrons-left"></i>
                <span>Close</span>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="flex-1">
        <!-- Header Bar -->
        <header class="bg-white shadow-md p-4 flex justify-between items-center md:justify-end">
            <button id="toggleSidebarBtn" class="md:hidden text-gray-600 focus:outline-none">
                <i data-feather="menu" class="w-6 h-6"></i>
            </button>
            <div class="flex items-center space-x-4">
                <span class="font-medium">Welcome, <span id="userName">Recruiter</span>!</span>
                <img src="jhs_logo.jpg" alt="JHS Logo" class="w-10 h-10"/>
            </div>
        </header>

        <!-- Content Container -->
        <main id="content" class="content-container p-6 md:p-8">
            <!-- Slots Page -->
            <!-- <div id="slots-page" class="page hidden fade-in">
                <h1 class="text-4xl font-bold text-gray-800 mb-8">Set Interview Slots</h1>
                <div class="card p-8">
                    <p class="text-gray-600 mb-4">Choose up to 5 dates and define available shifts and slots for each date.</p>
                    <div id="dateContainer" class="space-y-4"></div>
                    <button id="addDateBtn" class="btn-primary px-4 py-2 rounded mb-4">+ Add Date</button>
                    <button id="saveSlotsBtn" class="btn-primary px-6 py-2 rounded">Save Slots</button>
                </div>
            </div> -->
            <!-- Slots Page -->
            <div id="slots-page" class="page hidden fade-in">
                <h1 class="text-4xl font-bold text-gray-800 mb-8">Set Interview Slots</h1>
                <div class="card p-8">
                    <p class="text-gray-600 mb-4">Choose up to 5 dates and define available shifts and slots for each date.</p>

                    <!-- container for dates (will be filled on load) -->
                    <div id="dateContainer" class="space-y-4"></div>

                    <div class="flex gap-3 mt-4">
                        <button id="addDateBtn" class="btn-primary px-4 py-2 rounded">+ Add Date</button>
                        <button id="saveSlotsBtn" class="btn-primary px-6 py-2 rounded">Save Slots</button>
                    </div>
                </div>
            </div>
            <!-- Upload Resumes Page -->
            <div id="upload-page" class="page hidden fade-in">
                <h1 class="text-4xl font-bold text-gray-800 mb-8">Upload New Resumes</h1>
                <div class="card p-8 max-w-2xl mx-auto">
                    <div class="mb-6">
                        <label for="referenceName" class="block text-sm font-medium text-gray-700 mb-1">Reference Name</label>
                        <input type="text" id="referenceName" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm p-3" placeholder="Enter Reference Name" required>
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Upload Resume (PDF/Word)</label>
                        <div id="upload-area" class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md cursor-pointer hover:border-primary upload-trigger">
                            <div class="space-y-1 text-center">
                                <i data-feather="file-text" class="mx-auto h-12 w-12 text-gray-400"></i>
                                <div class="flex text-sm text-gray-600">
                                    <label for="resumeFile" class="relative cursor-pointer bg-white rounded-md font-medium text-primary hover:text-secondary">
                                        <span>Click to upload</span>
                                    </label>
                                    <p class="pl-1">or drag and drop</p>
                                </div>
                                <p class="text-xs text-gray-500">PDF, DOC, DOCX up to 5MB</p>
                            </div>
                        </div>
                        <input id="resumeFile" name="resumeFile" type="file" multiple class="hidden" accept=".pdf,.doc,.docx">
                    </div>
                    <div id="file-info" class="hidden items-center bg-gray-100 p-4 rounded-lg">
                        <i data-feather="check-circle" class="text-green-500 mr-3"></i>
                        <span id="selectedFileName" class="font-medium text-gray-700"></span>
                        <button id="clearFileBtn" class="ml-auto text-red-500 hover:text-red-700"><i data-feather="x-circle"></i></button>
                    </div>
                    <button id="uploadBtn" class="w-full btn-primary font-bold py-3 px-4 rounded-md mt-6">
                        Upload and Process Resume
                    </button>
                </div>
            </div>

            <!-- Match Resumes Page -->
            <div id="match-page" class="page hidden fade-in">
                <h1 class="text-4xl font-bold text-gray-800 mb-8">Find the Perfect Candidate</h1>
                <div class="card p-8 mb-8">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-4">
                        <div>
                            <label for="role" class="block text-sm font-medium text-gray-700">Role</label>
                            <input type="text" id="role" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3" placeholder="e.g., Auditor" required>
                        </div>
                        <div>
                            <label for="threshold" class="block text-sm font-medium text-gray-700">Minimum Score (Optional)</label>
                            <input type="number" id="threshold" min="0" max="100" step="0.1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3" placeholder="Default: 60" value="60">
                        </div>
                    </div>
                    <div>
                        <label for="jd" class="block text-sm font-medium text-gray-700">Job Description</label>
                        <textarea id="jd" rows="8" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3" placeholder="Paste the job description here..." required></textarea>
                    </div>
                    <button id="matchBtn" class="w-full btn-primary font-bold py-3 px-4 rounded-md mt-6 flex items-center justify-center space-x-2">
                        <i data-feather="users"></i>
                        <span>Match Resumes</span>
                    </button>
                </div>

                <!-- Results Table -->
                <div id="matchResults" class="hidden">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-4">Top Matches</h2>
                    <div class="table-container">
                        <table class="w-full text-left rounded-lg candidates-table">
                            <thead>
                                <tr class="bg-gray-200">
                                    <th class="px-6 py-3 text-gray-700"><input type="checkbox" id="selectAll"></th>
                                    <th class="px-6 py-3 text-gray-700">Reference Name</th>
                                    <th class="px-6 py-3 text-gray-700">Name</th>
                                    <th class="px-6 py-3 text-gray-700">Email</th>
                                    <th class="px-6 py-3 text-gray-700">Phone</th>
                                    <th class="px-6 py-3 text-gray-700">Role</th>
                                    <th class="px-6 py-3 text-gray-700">Score</th>
                                    <th class="px-6 py-3 text-gray-700">Status</th> <!-- Added Status column -->
                                    <th class="px-6 py-3 text-gray-700">Resume</th>
                                </tr>
                            </thead>
                            <tbody id="candidatesBody"></tbody>
                        </table>
                    </div>
                    <div class="mt-4">
                        <button id="exportExcelBtn" class="btn-primary font-bold py-2 px-4 rounded-md flex items-center space-x-2">
                            <i data-feather="download"></i>
                            <span>Export to Excel</span>
                        </button>
                        <button id="messageCandidatesBtn" class="btn-primary font-bold py-2 px-4 rounded-md flex items-center space-x-2 ml-4">
                            <i data-feather="message-circle"></i>
                            <span>Send Message to Selected</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Candidates Page -->
            <div id="candidates-page" class="page hidden fade-in">
                <h1 class="text-4xl font-bold text-gray-800 mb-8">Candidates</h1>
                <div class="card p-8 mb-8">
                    <!-- Search Bar -->
                    <div class="mb-6">
                        <label for="candidateSearch" class="block text-sm font-medium text-gray-700 mb-2">Search by Name, Role, Experience, Location, or Qualification</label>
                        <input type="text" id="candidateSearch" class="w-full p-3 border border-gray-300 rounded-md focus:border-primary focus:ring-primary" placeholder="Search candidates...">
                    </div>
                    <!-- Filters -->
                    <div class="filter-section mb-6">
                        <div>
                            <label for="experience" class="block text-sm font-medium text-gray-700 mb-2">Experience</label>
                            <select id="experience" class="w-full p-3 border border-gray-300 rounded-md focus:border-primary focus:ring-primary">
                                <option value="">All Experience</option>
                                <option value="Fresher">Fresher</option>
                                <option value="0–1 year">0–1 year</option>
                                <option value="1–3 years">1–3 years</option>
                                <option value="3–5 years">3–5 years</option>
                                <option value=">5 years">>5 years</option>
                            </select>
                        </div>
                        <div>
                            <label for="location" class="block text-sm font-medium text-gray-700 mb-2">Location</label>
                            <select id="location" class="w-full p-3 border border-gray-300 rounded-md focus:border-primary focus:ring-primary">
                                <option value="">All Locations</option>
                            </select>
                        </div>
                        <div>
                            <label for="qualification" class="block text-sm font-medium text-gray-700 mb-2">Qualification</label>
                            <select id="qualification" class="w-full p-3 border border-gray-300 rounded-md focus:border-primary focus:ring-primary">
                                <option value="">All Qualifications</option>
                                <option value="Bachelor's">Bachelor's</option>
                                <option value="Master's">Master's</option>
                                <option value="MBA">MBA</option>
                                <option value="PhD">PhD</option>
                                <option value="Diploma">Diploma</option>
                            </select>
                        </div>
                    </div>
                    <div class="flex justify-between mb-6">
                        <button id="applyFiltersBtn" class="btn-primary font-bold py-2 px-4 rounded-md flex items-center space-x-2">
                            <i data-feather="filter"></i>
                            <span>Apply Filters</span>
                        </button>
                        <button id="clearFiltersBtn" class="btn-primary font-bold py-2 px-4 rounded-md flex items-center space-x-2">
                            <i data-feather="x-circle"></i>
                            <span>Clear Filters</span>
                        </button>
                    </div>
                    <div id="candidatesContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                        <!-- Dynamic candidate cards will be inserted here -->
                    </div>
                </div>
            </div>

            <!-- Messaged Candidates Page -->
            <div id="messaged-page" class="page hidden fade-in">
                <h1 class="text-4xl font-bold text-gray-800 mb-8">Messaged Candidates</h1>
                <div id="messaged-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Dynamic containers will be inserted here -->
                </div>
            </div>

            <!-- Interviews (Scheduled) Page -->
            <div id="interviews-page" class="page hidden fade-in">
                <h1 class="text-4xl font-bold text-gray-800 mb-8">Scheduled Interviews</h1>
                <div class="card p-6">
                    <div id="scheduledList" class="space-y-4">
                        <!-- JS fills here -->
                    </div>
                </div>
            </div>

            <!-- ======== SELECTED CANDIDATES ======== -->
            <div id="selected-page" class="page hidden fade-in">
                <h1 class="text-4xl font-bold text-gray-800 mb-8">Selected Candidates</h1>
                <div class="card p-6">
                    <div id="selectedList" class="space-y-4">
                        <!-- filled by JS -->
                    </div>
                </div>
            </div>

            <!-- ======== REJECTED CANDIDATES ======== -->
            <div id="rejected-page" class="page hidden fade-in">
                <h1 class="text-4xl font-bold text-gray-800 mb-8">Rejected Candidates</h1>
                <div class="card p-6">
                    <div id="rejectedList" class="space-y-4">
                        <!-- filled by JS -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>